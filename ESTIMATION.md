# 工数見積もり

## 前提条件

- **開発体制**: 1-2名のフルスタックエンジニア
- **開発期間**: 約16-20週間（4-5ヶ月）
- **工数**: 約640-800時間（1人月 = 160時間換算で4-5人月）

---

## Phase 0: 準備・設計（2週間）

| タスク | 工数 | 担当 |
|--------|------|------|
| 要件定義・ユーザーストーリー作成 | 16h | PM/エンジニア |
| データモデル設計 | 8h | エンジニア |
| API設計 | 8h | エンジニア |
| UI/UXワイヤーフレーム | 16h | デザイナー/エンジニア |
| 技術選定確定 | 8h | エンジニア |
| 開発環境構築 | 8h | エンジニア |
| CI/CD設定 | 8h | エンジニア |
| 外部API申請準備 | 8h | エンジニア/PM |
| **合計** | **80h** | |

---

## Phase 1: MVP（6-8週間）

### Week 1-2: 基盤構築（80h）

| タスク | 工数 | 備考 |
|--------|------|------|
| プロジェクト初期化 | 4h | Next.js + TypeScript |
| データベース設計・構築 | 16h | Supabase/Neon設定 |
| 認証システム実装 | 24h | NextAuth.js統合 |
| 基本的なAPIエンドポイント | 16h | CRUD操作 |
| テスト環境構築 | 8h | Jest設定 |
| デプロイ環境構築 | 8h | Vercel設定 |
| バグ修正・調整 | 4h | |

### Week 3-4: ユーザー管理（80h）

| タスク | 工数 | 備考 |
|--------|------|------|
| ユーザー登録フォーム | 16h | React Hook Form |
| プロフィール管理画面 | 16h | CRUD UI |
| 言語・レベル設定 | 12h | マルチセレクト等 |
| Google Calendar API連携 | 24h | OAuth + API統合 |
| カレンダー同期機能 | 12h | 空き時間取得 |

### Week 5-6: マッチング機能（80h）

| タスク | 工数 | 備考 |
|--------|------|------|
| マッチングアルゴリズム設計 | 16h | ロジック設計 |
| マッチングアルゴリズム実装 | 24h | 言語・レベル・時間帯マッチ |
| 空き時間抽出ロジック | 16h | Google Calendar Freebusy |
| アポイントメント確定機能 | 16h | カレンダーイベント作成 |
| マッチングUI実装 | 8h | 候補表示・選択 |

### Week 7-8: 決済・通知（80h）

| タスク | 工数 | 備考 |
|--------|------|------|
| Stripe統合 | 24h | Checkout + Webhook |
| ポイントシステム実装 | 16h | 残高管理・取引履歴 |
| Email通知実装 | 12h | SendGrid統合 |
| WhatsApp通知実装 | 16h | Twilio統合（審査含む） |
| Google Meet自動生成 | 8h | Calendar API連携 |
| 通知テンプレート作成 | 4h | |

### Week 9-10: 統合・テスト（80h）

| タスク | 工数 | 備考 |
|--------|------|------|
| エンドツーエンドテスト | 24h | Playwright |
| バグ修正 | 24h | |
| パフォーマンス調整 | 16h | DB最適化・キャッシュ |
| セキュリティ監査 | 8h | 脆弱性チェック |
| ドキュメント作成 | 8h | API・運用 |

**Phase 1 合計: 400h**

---

## Phase 2: 自動化・改善（4-6週間）

### Week 1-2: マッチング最適化（80h）

| タスク | 工数 | 備考 |
|--------|------|------|
| AI統合（OpenAI/Gemini） | 16h | API統合 |
| マッチング優先度調整ロジック | 24h | AI活用 |
| 信頼度スコアシステム | 16h | ドタキャン・評価管理 |
| ドタキャン防止ロジック | 16h | ペナルティ・自動キャンセル |
| テスト・調整 | 8h | |

### Week 3-4: 通知・リマインド（60h）

| タスク | 工数 | 備考 |
|--------|------|------|
| 自動リマインド機能 | 16h | スケジューラー実装 |
| キャンセル通知改善 | 12h | テンプレート・ロジック |
| 24時間反応なし自動キャンセル | 16h | バッチ処理 |
| 通知設定管理 | 8h | ユーザー設定 |
| テスト・調整 | 8h | |

### Week 5-6: ダッシュボード・分析（60h）

| タスク | 工数 | 備考 |
|--------|------|------|
| ユーザーダッシュボード | 24h | 統計・履歴表示 |
| 利用状況分析 | 16h | データ可視化 |
| フィードバック機能 | 12h | 評価・コメント |
| テスト・調整 | 8h | |

**Phase 2 合計: 200h**

---

## Phase 3: スケール対応（4-6週間）

### Week 1-2: パフォーマンス（60h）

| タスク | 工数 | 備考 |
|--------|------|------|
| データベース最適化 | 16h | インデックス・クエリ改善 |
| キャッシュ戦略実装 | 16h | Redis導入検討 |
| APIレスポンス改善 | 16h | 非同期処理・最適化 |
| 負荷テスト | 8h | パフォーマンス測定 |
| 調整 | 4h | |

### Week 3-4: モニタリング（60h）

| タスク | 工数 | 備考 |
|--------|------|------|
| ログシステム構築 | 16h | 構造化ログ |
| エラートラッキング（Sentry） | 12h | 統合・設定 |
| パフォーマンス監視 | 12h | Vercel Analytics |
| アラート設定 | 8h | 異常検知 |
| ダッシュボード作成 | 12h | 運用監視画面 |

### Week 5-6: セキュリティ・ドキュメント（60h）

| タスク | 工数 | 備考 |
|--------|------|------|
| セキュリティ強化 | 20h | 脆弱性対応・暗号化 |
| APIドキュメント整備 | 16h | OpenAPI/Swagger |
| 運用マニュアル作成 | 16h | デプロイ・トラブルシュート |
| 最終テスト | 8h | |

**Phase 3 合計: 180h**

---

## 総工数サマリー

| Phase | 期間 | 工数 |
|-------|------|------|
| Phase 0: 準備・設計 | 2週間 | 80h |
| Phase 1: MVP | 6-8週間 | 400h |
| Phase 2: 自動化・改善 | 4-6週間 | 200h |
| Phase 3: スケール対応 | 4-6週間 | 180h |
| **合計** | **16-20週間** | **860h** |

---

## 工数の内訳（スキル別）

### フロントエンド開発: 約240h (28%)
- UI/UX実装
- フォーム・ダッシュボード
- 状態管理

### バックエンド開発: 約320h (37%)
- API実装
- ビジネスロジック
- データベース設計

### 外部API統合: 約160h (19%)
- Google Calendar API
- Stripe
- WhatsApp/Email
- AI API

### インフラ・DevOps: 約80h (9%)
- 環境構築
- CI/CD
- デプロイ

### テスト・QA: 約60h (7%)
- 単体テスト
- 統合テスト
- E2Eテスト

---

## リスク要因による工数増加見込み

| リスク | 影響 | 追加工数 |
|--------|------|----------|
| WhatsApp Business API審査遅延 | 中 | +20h（代替実装） |
| カレンダーマッチングロジック複雑化 | 高 | +40h |
| Google Calendar API制限対応 | 中 | +20h |
| 決済統合の複雑さ | 低 | +10h |
| セキュリティ要件追加 | 中 | +20h |
| **合計（バッファ）** | | **+110h** |

**総工数（バッファ込み）: 約970h（6人月）**

---

## 開発体制別の見積もり

### 1名体制の場合
- **期間**: 20-24週間（5-6ヶ月）
- **工数**: 970h
- **週あたり**: 約40-48h（フルタイム）

### 2名体制の場合
- **期間**: 10-12週間（2.5-3ヶ月）
- **工数**: 970h（合計）
- **週あたり**: 各20-24h（フルタイム）

### 3名体制の場合
- **期間**: 7-8週間（1.5-2ヶ月）
- **工数**: 970h（合計）
- **週あたり**: 各13-16h（フルタイム）

---

## コスト見積もり（開発費除く）

### インフラ・サービス費用（月額）

| サービス | プラン | 月額 |
|----------|--------|------|
| Vercel | Pro | $20 |
| Supabase/Neon | Pro | $25 |
| Stripe | 手数料 | 売上の2.9% + $0.30 |
| Twilio WhatsApp | Pay-as-you-go | $0.005/メッセージ |
| SendGrid | Essentials | $15 |
| OpenAI API | Pay-as-you-go | 使用量次第 |
| Sentry | Team | $26 |
| **合計（固定）** | | **約$86/月** |

### 初期費用
- ドメイン: $10-15/年
- SSL証明書: 無料（Vercel含む）

---

## 開発スケジュール（推奨）

### 最速スケジュール（2名体制）
- **Week 1-2**: Phase 0（準備・設計）
- **Week 3-10**: Phase 1（MVP）
- **Week 11-14**: Phase 2（自動化）
- **Week 15-18**: Phase 3（スケール対応）

**合計: 18週間（約4.5ヶ月）**

### 現実的なスケジュール（1-2名体制）
- **Week 1-2**: Phase 0
- **Week 3-12**: Phase 1（MVP、バッファ込み）
- **Week 13-18**: Phase 2（自動化）
- **Week 19-24**: Phase 3（スケール対応）

**合計: 24週間（約6ヶ月）**

