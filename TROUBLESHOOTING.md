# トラブルシューティングガイド

## 🔍 問題: サーバーに接続できない

### 確認ステップ

#### ステップ1: サーバーが起動しているか確認

ターミナルで以下を確認してください：

1. **サーバーが起動しているか**
   - ターミナルに `🚀 Server running on port XXXX` というメッセージが表示されているか
   - エラーメッセージが出ていないか

2. **サーバーが停止していないか**
   - ターミナルで `Ctrl+C` を押していないか
   - サーバーのターミナルウィンドウが開いているか

#### ステップ2: ポート番号を確認

ターミナルの起動メッセージで、実際のポート番号を確認：

```
🚀 Server running on port 3000
```

このポート番号を使いましょう。

#### ステップ3: 別のターミナルで確認

サーバーを起動しているターミナルとは**別のターミナル**を開いて、以下を実行：

```bash
# ポート3000が使用されているか確認
lsof -i :3000

# または
curl http://localhost:3000/health
```

---

## 🛠️ 解決方法

### 方法1: サーバーを再起動

1. **サーバーを停止**
   - サーバーを起動しているターミナルで `Ctrl+C` を押す

2. **サーバーを再起動**
   ```bash
   npm run dev
   ```

3. **起動メッセージを確認**
   - `🚀 Server running on port XXXX` が表示されるか確認

### 方法2: ポートが使用されているか確認

```bash
# ポート3000を使用しているプロセスを確認
lsof -i :3000

# プロセスを終了（必要に応じて）
kill -9 <プロセスID>
```

### 方法3: 別のポートを使う

`.env`ファイルに以下を追加：

```
PORT=3002
```

サーバーを再起動。

---

## 📊 統計情報の確認方法

### 前提条件

1. **サーバーが起動している**
2. **正しいポート番号を使っている**

### 確認方法

#### 方法1: ブラウザで確認

1. **サーバーが起動していることを確認**
2. **ブラウザのアドレスバーに以下を入力：**
   ```
   http://localhost:3000/api/admin/stats?token=change-this-in-production
   ```
3. **Enterキーを押す**

#### 方法2: ターミナルで確認

```bash
curl "http://localhost:3000/api/admin/stats?token=change-this-in-production"
```

---

## ✅ チェックリスト

### サーバーが起動しているか
- [ ] ターミナルに `🚀 Server running on port XXXX` が表示されている
- [ ] エラーメッセージが出ていない
- [ ] サーバーのターミナルウィンドウが開いている

### ポート番号
- [ ] 起動メッセージでポート番号を確認した
- [ ] URLに正しいポート番号を使っている

### 接続確認
- [ ] ヘルスチェックが成功する
- [ ] 統計情報エンドポイントにアクセスできる

---

## 🆘 それでも解決しない場合

1. **エラーメッセージをコピー**
2. **ターミナルの出力全体を確認**
3. **サーバーを再起動してみる**

---

**まずは、サーバーが実際に起動しているか確認してください！**

